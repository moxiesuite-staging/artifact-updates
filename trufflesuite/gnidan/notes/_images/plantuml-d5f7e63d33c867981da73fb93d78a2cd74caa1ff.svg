<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="307.2px" preserveAspectRatio="none" style="width:631px;height:307px;" version="1.1" viewBox="0 0 631 307" width="631.8px" zoomAndPan="magnify"><defs><filter height="300%" id="flxpgnqe3841p" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4" dy="2.4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster Interacting--><rect fill="#FFFFFF" filter="url(#flxpgnqe3841p)" height="64.8" style="stroke: #000000; stroke-width: 0.8999999999999999;" width="126" x="295.2" y="14.4"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="44.4" x="336" y="23.3971">«external»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="332.7" y="33.1752">Interacting</text><!--cluster Migrations--><rect fill="#FFFFFF" filter="url(#flxpgnqe3841p)" height="207" style="stroke: #000000; stroke-width: 0.8999999999999999;" width="486" x="139.2" y="93.6"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49.2" x="357.6" y="102.5971">Migrations</text><ellipse cx="358.1111" cy="57.6422" fill="#FEFECE" filter="url(#flxpgnqe3841p)" rx="53.0111" ry="12.0422" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="90" x="313.1111" y="60.4313">Call read-only method</text><ellipse cx="194.9129" cy="178.3026" fill="#FEFECE" filter="url(#flxpgnqe3841p)" rx="45.8129" ry="10.6026" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="73.2" x="158.3129" y="181.0916">Run all migrations</text><ellipse cx="358.3391" cy="258.1478" fill="#FEFECE" filter="url(#flxpgnqe3841p)" rx="53.5391" ry="12.1478" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="91.2" x="312.7391" y="260.9369">Run specific migration</text><ellipse cx="195.0945" cy="136.1589" fill="#FEFECE" filter="url(#flxpgnqe3841p)" rx="43.5945" ry="10.1589" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="67.8" x="161.1945" y="138.948">Run as historical</text><ellipse cx="358.2281" cy="195.6056" fill="#FEFECE" filter="url(#flxpgnqe3841p)" rx="79.8281" ry="17.4056" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="148.2" x="284.1281" y="198.3947">Determine last completed migration</text><ellipse cx="545.4706" cy="277.2741" fill="#FEFECE" filter="url(#flxpgnqe3841p)" rx="62.1706" ry="13.8741" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="110.4" x="490.2706" y="280.0632">Link contract type to library</text><ellipse cx="545.4163" cy="226.6833" fill="#FEFECE" filter="url(#flxpgnqe3841p)" rx="70.2163" ry="15.4833" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="127.8" x="481.5163" y="229.4723">Link contract instance to library</text><ellipse cx="545.4404" cy="128.5281" fill="#FEFECE" filter="url(#flxpgnqe3841p)" rx="59.4404" ry="13.3281" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="104.4" x="493.2404" y="131.3171">Deploy instance of a type</text><ellipse cx="545.3567" cy="176.3913" fill="#FEFECE" filter="url(#flxpgnqe3841p)" rx="60.2567" ry="13.4913" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="106.2" x="492.2567" y="179.1804">Deploy multiple instances</text><!--entity Developer--><ellipse cx="57" cy="185.1" fill="#FEFECE" filter="url(#flxpgnqe3841p)" rx="4.8" ry="4.8" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M57,189.9 L57,206.1 M49.2,194.7 L64.8,194.7 M57,206.1 L49.2,215.1 M57,206.1 L64.8,215.1 " fill="none" filter="url(#flxpgnqe3841p)" style="stroke: #A80036; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="106.8" x="3.6" y="227.0971">Smart Contract Developer</text><!--link RunMigrations to RunSpecific--><path d="M212.3508,187.842 C228.9246,197.253 255.117,211.7826 278.4,223.2 C295.0932,231.3858 314.1624,239.7924 329.4054,246.2922 " fill="none" id="RunMigrations-RunSpecific" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="332.2056,247.4832,328.1758,243.1611,329.4449,246.309,326.297,247.5782,332.2056,247.4832" style="stroke: #A80036; stroke-width: 0.6;"/><!--link RunHistorical to RunMigrations--><path d="M195,146.5362 C195,149.5674 195,152.5986 195,155.6298 " fill="none" id="RunHistorical-RunMigrations" style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="199.2,155.7,195,167.7,190.8,155.7,199.2,155.7" style="stroke: #A80036; stroke-width: 0.6;"/><!--link DetermineLastCompleted to Call--><path d="M358.2,178.401 C358.2,151.1844 358.2,98.628 358.2,72.7494 " fill="none" id="DetermineLastCompleted-Call" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="358.2,69.7296,355.8,75.1296,358.2,72.7296,360.6,75.1296,358.2,69.7296" style="stroke: #A80036; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="98.4" x="301.5" y="126.6401">query Migrations instance</text><!--link RunMigrations to DetermineLastCompleted--><path d="M236.6886,182.613 C250.9848,184.149 267.492,185.922 283.6248,187.6542 " fill="none" id="RunMigrations-DetermineLastCompleted" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="286.632,187.9776,281.5185,185.0158,283.6491,187.6579,281.007,189.7884,286.632,187.9776" style="stroke: #A80036; stroke-width: 0.6;"/><!--link LinkType to LinkInstance--><path d="M545.4,251.2132 C545.4,248.292 545.4,245.3712 545.4,242.4498 " fill="none" id="LinkType-LinkInstance" style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="549.6,251.2219,545.4,263.2219,541.2,251.2219,549.6,251.2219" style="stroke: #A80036; stroke-width: 0.6;"/><!--link RunSpecific to LinkType--><path d="M406.9416,262.9694 C431.0418,265.4572 460.4268,268.4905 485.8662,271.1165 " fill="none" id="RunSpecific-LinkType" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="488.9478,271.4347,483.8233,268.492,485.9637,271.1261,483.3296,273.2665,488.9478,271.4347" style="stroke: #A80036; stroke-width: 0.6;"/><!--link MultipleInstances to DeployInstance--><path d="M545.4,162.9 C545.4,159.7554 545.4,156.6108 545.4,153.4662 " fill="none" id="MultipleInstances-DeployInstance" style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="541.2,153.3378,545.4,141.3372,549.6,153.3372,541.2,153.3378" style="stroke: #A80036; stroke-width: 0.6;"/><!--link RunSpecific to DeployInstance--><path d="M392.7186,248.7498 C407.9532,243.27 425.3136,235.0308 438,223.2 C463.9962,198.9576 448.233,175.5576 475.2,152.4 C482.1696,146.415 490.7118,141.8988 499.3944,138.4986 " fill="none" id="RunSpecific-DeployInstance" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="502.3422,137.3874,496.4428,137.0455,499.5349,138.4452,498.1352,141.5373,502.3422,137.3874" style="stroke: #A80036; stroke-width: 0.6;"/><!--link Developer to RunMigrations--><path d="M110.4906,194.025 C126.8814,190.9338 144.5262,187.6062 159.3858,184.8036 " fill="none" id="Developer-RunMigrations" style="stroke: #A80036; stroke-width: 0.6;"/><!--link Developer to RunSpecific--><path d="M110.5434,213.5298 C169.2492,224.097 262.713,240.9204 316.2738,250.5613 " fill="none" id="Developer-RunSpecific" style="stroke: #A80036; stroke-width: 0.6;"/><!--link Developer to RunHistorical--><path d="M94.8066,179.1588 C107.1072,171.54 121.0626,163.5114 134.4,157.2 C144.9744,152.196 157.0788,147.7356 167.6328,144.2268 " fill="none" id="Developer-RunHistorical" style="stroke: #A80036; stroke-width: 0.6;"/><!--link Developer to DetermineLastCompleted--><path d="M110.4294,202.686 C147.1188,201.7566 197.1354,200.4576 241.2,199.2 C253.4772,198.8496 266.4828,198.4626 279.1794,198.0768 " fill="none" id="Developer-DetermineLastCompleted" style="stroke: #A80036; stroke-width: 0.6;"/><!--
@startuml
scale 0.60
left to right direction

:Smart Contract Developer: as :Developer:

rectangle Interacting << external >> {
  (Call read-only method) as (Call)
}

rectangle Migrations {
  (Run all migrations) as (RunMigrations)
  (Run specific migration) as (RunSpecific)

  RunMigrations - -> RunSpecific

  (Run as historical) as (RunHistorical)
  RunHistorical .|> RunMigrations

  (Determine last completed migration) as (DetermineLastCompleted)

  DetermineLastCompleted -> Call : query Migrations instance

  RunMigrations - -> DetermineLastCompleted

  (Link contract type to library) as (LinkType)
  (Link contract instance to library) as (LinkInstance)
  LinkInstance .left.|> LinkType

  RunSpecific - -> LinkType

  (Deploy instance of a type) as (DeployInstance)
  (Deploy multiple instances) as (MultipleInstances)
  MultipleInstances .|> DeployInstance

  RunSpecific - -> DeployInstance
}

Developer - - RunMigrations
Developer - - RunSpecific
Developer - - RunHistorical
Developer - - DetermineLastCompleted

@enduml

PlantUML version 1.2018.03(Thu Apr 05 16:59:15 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Linux
OS Version: 4.4.0-101-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>