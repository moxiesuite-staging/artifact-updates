<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="297.6px" preserveAspectRatio="none" style="width:631px;height:297px;" version="1.1" viewBox="0 0 631 297" width="631.8px" zoomAndPan="magnify"><defs><filter height="300%" id="f16t1nar79duoq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4" dy="2.4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster Interacting--><rect fill="#FFFFFF" filter="url(#f16t1nar79duoq)" height="55.2" style="stroke: #000000; stroke-width: 0.8999999999999999;" width="126" x="295.2" y="14.4"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="332.7" y="23.3971">Interacting</text><!--cluster Migrations--><rect fill="#FFFFFF" filter="url(#f16t1nar79duoq)" height="207" style="stroke: #000000; stroke-width: 0.8999999999999999;" width="486" x="139.2" y="84"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49.2" x="357.6" y="92.9971">Migrations</text><ellipse cx="358.1111" cy="48.0422" fill="#FEFECE" filter="url(#f16t1nar79duoq)" rx="53.0111" ry="12.0422" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="90" x="313.1111" y="50.8313">Call read-only method</text><ellipse cx="194.9129" cy="168.7026" fill="#FEFECE" filter="url(#f16t1nar79duoq)" rx="45.8129" ry="10.6026" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="73.2" x="158.3129" y="171.4916">Run all migrations</text><ellipse cx="358.3391" cy="248.5478" fill="#FEFECE" filter="url(#f16t1nar79duoq)" rx="53.5391" ry="12.1478" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="91.2" x="312.7391" y="251.3369">Run specific migration</text><ellipse cx="195.0945" cy="126.5589" fill="#FEFECE" filter="url(#f16t1nar79duoq)" rx="43.5945" ry="10.1589" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="67.8" x="161.1945" y="129.348">Run as historical</text><ellipse cx="358.2281" cy="186.0056" fill="#FEFECE" filter="url(#f16t1nar79duoq)" rx="79.8281" ry="17.4056" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="148.2" x="284.1281" y="188.7947">Determine last completed migration</text><ellipse cx="545.4706" cy="267.6741" fill="#FEFECE" filter="url(#f16t1nar79duoq)" rx="62.1706" ry="13.8741" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="110.4" x="490.2706" y="270.4632">Link contract type to library</text><ellipse cx="545.4163" cy="217.0833" fill="#FEFECE" filter="url(#f16t1nar79duoq)" rx="70.2163" ry="15.4833" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="127.8" x="481.5163" y="219.8723">Link contract instance to library</text><ellipse cx="545.4404" cy="118.9281" fill="#FEFECE" filter="url(#f16t1nar79duoq)" rx="59.4404" ry="13.3281" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="104.4" x="493.2404" y="121.7171">Deploy instance of a type</text><ellipse cx="545.3567" cy="166.7913" fill="#FEFECE" filter="url(#f16t1nar79duoq)" rx="60.2567" ry="13.4913" style="stroke: #A80036; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="106.2" x="492.2567" y="169.5804">Deploy multiple instances</text><!--entity Developer--><ellipse cx="57" cy="175.5" fill="#FEFECE" filter="url(#f16t1nar79duoq)" rx="4.8" ry="4.8" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M57,180.3 L57,196.5 M49.2,185.1 L64.8,185.1 M57,196.5 L49.2,205.5 M57,196.5 L64.8,205.5 " fill="none" filter="url(#f16t1nar79duoq)" style="stroke: #A80036; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="106.8" x="3.6" y="217.4971">Smart Contract Developer</text><!--link RunMigrations to RunSpecific--><path d="M212.3508,178.242 C228.9246,187.653 255.117,202.1826 278.4,213.6 C295.0932,221.7858 314.1624,230.1924 329.4054,236.6922 " fill="none" id="RunMigrations-RunSpecific" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="332.2056,237.8832,328.1758,233.5611,329.4449,236.709,326.297,237.9782,332.2056,237.8832" style="stroke: #A80036; stroke-width: 0.6;"/><!--link RunHistorical to RunMigrations--><path d="M195,136.9362 C195,139.9674 195,142.9986 195,146.0298 " fill="none" id="RunHistorical-RunMigrations" style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="199.2,146.1,195,158.1,190.8,146.1,199.2,146.1" style="stroke: #A80036; stroke-width: 0.6;"/><!--link DetermineLastCompleted to Call--><path d="M358.2,168.801 C358.2,141.5844 358.2,89.028 358.2,63.1494 " fill="none" id="DetermineLastCompleted-Call" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="358.2,60.1296,355.8,65.5296,358.2,63.1296,360.6,65.5296,358.2,60.1296" style="stroke: #A80036; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="98.4" x="301.5" y="117.0401">query Migrations instance</text><!--link RunMigrations to DetermineLastCompleted--><path d="M236.6886,173.013 C250.9848,174.549 267.492,176.322 283.6248,178.0542 " fill="none" id="RunMigrations-DetermineLastCompleted" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="286.632,178.3776,281.5185,175.4158,283.6491,178.0579,281.007,180.1884,286.632,178.3776" style="stroke: #A80036; stroke-width: 0.6;"/><!--link LinkType to LinkInstance--><path d="M545.4,241.6132 C545.4,238.692 545.4,235.7712 545.4,232.8498 " fill="none" id="LinkType-LinkInstance" style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="549.6,241.6219,545.4,253.6219,541.2,241.6219,549.6,241.6219" style="stroke: #A80036; stroke-width: 0.6;"/><!--link RunSpecific to LinkType--><path d="M406.9416,253.3694 C431.0418,255.8572 460.4268,258.8905 485.8662,261.5165 " fill="none" id="RunSpecific-LinkType" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="488.9478,261.8347,483.8233,258.892,485.9637,261.5261,483.3296,263.6665,488.9478,261.8347" style="stroke: #A80036; stroke-width: 0.6;"/><!--link MultipleInstances to DeployInstance--><path d="M545.4,153.3 C545.4,150.1554 545.4,147.0108 545.4,143.8662 " fill="none" id="MultipleInstances-DeployInstance" style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="541.2,143.7378,545.4,131.7372,549.6,143.7372,541.2,143.7378" style="stroke: #A80036; stroke-width: 0.6;"/><!--link RunSpecific to DeployInstance--><path d="M392.7186,239.1498 C407.9532,233.67 425.3136,225.4308 438,213.6 C463.9962,189.3576 448.233,165.9576 475.2,142.8 C482.1696,136.815 490.7118,132.2988 499.3944,128.8986 " fill="none" id="RunSpecific-DeployInstance" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="502.3422,127.7874,496.4428,127.4455,499.5349,128.8452,498.1352,131.9373,502.3422,127.7874" style="stroke: #A80036; stroke-width: 0.6;"/><!--link Developer to RunMigrations--><path d="M110.4906,184.425 C126.8814,181.3338 144.5262,178.0062 159.3858,175.2036 " fill="none" id="Developer-RunMigrations" style="stroke: #A80036; stroke-width: 0.6;"/><!--link Developer to RunSpecific--><path d="M110.5434,203.9298 C169.2492,214.497 262.713,231.3204 316.2738,240.9613 " fill="none" id="Developer-RunSpecific" style="stroke: #A80036; stroke-width: 0.6;"/><!--link Developer to RunHistorical--><path d="M94.8066,169.5588 C107.1072,161.94 121.0626,153.9114 134.4,147.6 C144.9744,142.596 157.0788,138.1356 167.6328,134.6268 " fill="none" id="Developer-RunHistorical" style="stroke: #A80036; stroke-width: 0.6;"/><!--link Developer to DetermineLastCompleted--><path d="M110.4294,193.086 C147.1188,192.1566 197.1354,190.8576 241.2,189.6 C253.4772,189.2496 266.4828,188.8626 279.1794,188.4768 " fill="none" id="Developer-DetermineLastCompleted" style="stroke: #A80036; stroke-width: 0.6;"/><!--
@startuml
scale 0.60
left to right direction

:Smart Contract Developer: as :Developer:

rectangle Interacting {
  (Call read-only method) as (Call)
}

rectangle Migrations {
  (Run all migrations) as (RunMigrations)
  (Run specific migration) as (RunSpecific)

  RunMigrations - -> RunSpecific

  (Run as historical) as (RunHistorical)
  RunHistorical .|> RunMigrations

  (Determine last completed migration) as (DetermineLastCompleted)

  DetermineLastCompleted -> Call : query Migrations instance

  RunMigrations - -> DetermineLastCompleted

  (Link contract type to library) as (LinkType)
  (Link contract instance to library) as (LinkInstance)
  LinkInstance .left.|> LinkType

  RunSpecific - -> LinkType

  (Deploy instance of a type) as (DeployInstance)
  (Deploy multiple instances) as (MultipleInstances)
  MultipleInstances .|> DeployInstance

  RunSpecific - -> DeployInstance
}

Developer - - RunMigrations
Developer - - RunSpecific
Developer - - RunHistorical
Developer - - DetermineLastCompleted

@enduml

PlantUML version 1.2018.03(Thu Apr 05 16:59:15 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Linux
OS Version: 4.4.0-101-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>