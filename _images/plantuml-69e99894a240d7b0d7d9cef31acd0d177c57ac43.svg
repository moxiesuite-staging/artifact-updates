<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="303.05px" preserveAspectRatio="none" style="width:654px;height:303px;" version="1.1" viewBox="0 0 654 303" width="654.5px" zoomAndPan="magnify"><defs><filter height="300%" id="f1r85x4yjfmf8m" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.1"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.2" dy="2.2" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster Querying--><rect fill="#FFFFFF" filter="url(#f1r85x4yjfmf8m)" height="62.15" style="stroke: #000000; stroke-width: 0.8250000000000001;" width="128.15" x="514.25" y="162.8"/><text fill="#000000" font-family="sans-serif" font-size="7.7" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40.15" x="558.25" y="171.0473">«external»</text><text fill="#000000" font-family="sans-serif" font-size="7.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39.6" x="558.525" y="180.0106">Querying</text><!--cluster Interacting--><rect fill="#FFFFFF" filter="url(#f1r85x4yjfmf8m)" height="58.85" style="stroke: #000000; stroke-width: 0.8250000000000001;" width="114.95" x="520.85" y="238.15"/><text fill="#000000" font-family="sans-serif" font-size="7.7" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40.15" x="558.25" y="246.3973">«external»</text><text fill="#000000" font-family="sans-serif" font-size="7.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46.75" x="554.95" y="255.3606">Interacting</text><!--cluster Linking--><rect fill="#FFFFFF" filter="url(#f1r85x4yjfmf8m)" height="58.85" style="stroke: #000000; stroke-width: 0.8250000000000001;" width="114.95" x="520.85" y="13.2"/><text fill="#000000" font-family="sans-serif" font-size="7.7" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40.15" x="558.25" y="21.4473">«external»</text><text fill="#000000" font-family="sans-serif" font-size="7.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30.8" x="562.925" y="30.4106">Linking</text><!--cluster Deployment--><rect fill="#FFFFFF" filter="url(#f1r85x4yjfmf8m)" height="64.35" style="stroke: #000000; stroke-width: 0.8250000000000001;" width="140.25" x="508.2" y="85.25"/><text fill="#000000" font-family="sans-serif" font-size="7.7" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40.15" x="558.25" y="93.4973">«external»</text><text fill="#000000" font-family="sans-serif" font-size="7.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51.7" x="552.475" y="102.4606">Deployment</text><!--cluster Migrations--><rect fill="#FFFFFF" filter="url(#f1r85x4yjfmf8m)" height="140.25" style="stroke: #000000; stroke-width: 0.8250000000000001;" width="277.2" x="127.05" y="69.3"/><text fill="#000000" font-family="sans-serif" font-size="7.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45.1" x="243.1" y="77.5473">Migrations</text><ellipse cx="578.2853" cy="203.4921" fill="#FEFECE" filter="url(#f1r85x4yjfmf8m)" rx="55.2353" ry="12.3671" style="stroke: #A80036; stroke-width: 0.8250000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="97.35" x="529.6103" y="206.0487">Query for a given contract</text><ellipse cx="578.2435" cy="277.2387" fill="#FEFECE" filter="url(#f1r85x4yjfmf8m)" rx="48.5935" ry="11.0387" style="stroke: #A80036; stroke-width: 0.8250000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="82.5" x="536.9935" y="279.7953">Call read-only method</text><ellipse cx="578.2435" cy="52.2887" fill="#FEFECE" filter="url(#f1r85x4yjfmf8m)" rx="48.5935" ry="11.0387" style="stroke: #A80036; stroke-width: 0.8250000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="82.5" x="536.9935" y="54.8453">Link contract to library</text><ellipse cx="578.2944" cy="127.1539" fill="#FEFECE" filter="url(#f1r85x4yjfmf8m)" rx="61.2944" ry="13.5789" style="stroke: #A80036; stroke-width: 0.8250000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="110.55" x="523.0194" y="129.7105">Deploy instance of a contract</text><ellipse cx="322.2201" cy="98.544" fill="#FEFECE" filter="url(#f1r85x4yjfmf8m)" rx="41.9951" ry="9.719" style="stroke: #A80036; stroke-width: 0.8250000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="67.1" x="288.6701" y="101.1007">Run all migrations</text><ellipse cx="322.4275" cy="138.7355" fill="#FEFECE" filter="url(#f1r85x4yjfmf8m)" rx="49.0775" ry="11.1355" style="stroke: #A80036; stroke-width: 0.8250000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="83.6" x="280.6275" y="141.2921">Run specific migration</text><ellipse cx="175.8117" cy="97.8623" fill="#FEFECE" filter="url(#f1r85x4yjfmf8m)" rx="39.9617" ry="9.3123" style="stroke: #A80036; stroke-width: 0.8250000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="62.15" x="144.7367" y="100.419">Run as historical</text><ellipse cx="322.3258" cy="184.8052" fill="#FEFECE" filter="url(#f1r85x4yjfmf8m)" rx="73.1758" ry="15.9552" style="stroke: #A80036; stroke-width: 0.8250000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="135.85" x="254.4008" y="187.3618">Determine last completed migration</text><!--entity Developer--><ellipse cx="52.25" cy="138.875" fill="#FEFECE" filter="url(#f1r85x4yjfmf8m)" rx="4.4" ry="4.4" style="stroke: #A80036; stroke-width: 1.1;"/><path d="M52.25,143.275 L52.25,158.125 M45.1,147.675 L59.4,147.675 M52.25,158.125 L45.1,166.375 M52.25,158.125 L59.4,166.375 " fill="none" filter="url(#f1r85x4yjfmf8m)" style="stroke: #A80036; stroke-width: 1.1;"/><text fill="#000000" font-family="sans-serif" font-size="7.7" lengthAdjust="spacingAndGlyphs" textLength="97.9" x="3.3" y="177.3723">Smart Contract Developer</text><!--link RunHistorical to RunMigrations--><path d="M215.6429,98.0491 C232.0797,98.1112 251.4199,98.1844 269.0545,98.2509 " fill="none" id="RunHistorical-RunMigrations" style="stroke: #A80036; stroke-width: 0.55; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="269.0749,94.4009,280.0606,98.2922,269.0457,102.1009,269.0749,94.4009" style="stroke: #A80036; stroke-width: 0.55;"/><!--link RunMigrations to RunSpecific--><path d="M322.3,108.1971 C322.3,113.6663 322.3,119.1355 322.3,124.6047 " fill="none" id="RunMigrations-RunSpecific" style="stroke: #A80036; stroke-width: 0.55;"/><polygon fill="#A80036" points="322.3,127.4647,324.5,122.5147,322.3,124.7147,320.1,122.5147,322.3,127.4647" style="stroke: #A80036; stroke-width: 0.55;"/><!--link DetermineLastCompleted to RunMigrations--><path d="M262.2582,173.8066 C250.0955,168.547 239.0102,160.7821 232.375,149.325 C227.4745,140.8638 227.4745,135.7862 232.375,127.325 C242.0721,110.5819 261.9353,103.1388 280.5325,99.9796 " fill="none" id="DetermineLastCompleted-RunMigrations" style="stroke: #A80036; stroke-width: 0.55;"/><polygon fill="#A80036" points="264.8685,174.8918,261.1416,170.9607,262.329,173.8365,259.4532,175.0239,264.8685,174.8918" style="stroke: #A80036; stroke-width: 0.55;"/><!--link DetermineLastCompleted to QueryContract--><path d="M391.8365,189.8606 C432.938,192.8757 484.396,196.6503 522.753,199.4641 " fill="none" id="DetermineLastCompleted-QueryContract" style="stroke: #A80036; stroke-width: 0.55;"/><polygon fill="#A80036" points="525.7236,199.6819,520.9485,197.1243,522.981,199.4799,520.6253,201.5124,525.7236,199.6819" style="stroke: #A80036; stroke-width: 0.55;"/><text fill="#000000" font-family="sans-serif" font-size="7.15" lengthAdjust="spacingAndGlyphs" textLength="85.25" x="413.6" y="189.7868">find deployed Migrations</text><!--link DetermineLastCompleted to Call--><path d="M360.4651,198.434 C411.9313,217.0883 503.1598,250.1549 549.3235,266.8876 " fill="none" id="DetermineLastCompleted-Call" style="stroke: #A80036; stroke-width: 0.55;"/><polygon fill="#A80036" points="552.0284,267.8678,548.1237,264.1134,549.4428,266.9312,546.6251,268.2503,552.0284,267.8678" style="stroke: #A80036; stroke-width: 0.55;"/><text fill="#000000" font-family="sans-serif" font-size="7.15" lengthAdjust="spacingAndGlyphs" textLength="68.2" x="422.125" y="217.8368">read instance state</text><!--link RunSpecific to DeployInstance--><path d="M370.3513,136.4479 C411.2279,134.596 470.5102,131.9098 515.2395,129.8836 " fill="none" id="RunSpecific-DeployInstance" style="stroke: #A80036; stroke-width: 0.55;"/><polygon fill="#A80036" points="518.1644,129.7511,513.1201,127.7768,515.4172,129.8752,513.3187,132.1723,518.1644,129.7511" style="stroke: #A80036; stroke-width: 0.55;"/><!--link RunSpecific to LinkContract--><path d="M358.2007,131.081 C373.796,127.4845 392.2666,122.8414 408.65,117.7 C460.8043,101.3326 520.0063,77.0622 552.7082,63.1362 " fill="none" id="RunSpecific-LinkContract" style="stroke: #A80036; stroke-width: 0.55;"/><polygon fill="#A80036" points="555.401,61.9866,549.9847,61.9051,552.8715,63.0656,551.711,65.9523,555.401,61.9866" style="stroke: #A80036; stroke-width: 0.55;"/><!--link Developer to RunMigrations--><path d="M101.3491,145.7753 C156.5757,133.9168 245.0718,114.9148 291.3356,104.9807 " fill="none" id="Developer-RunMigrations" style="stroke: #A80036; stroke-width: 0.55;"/><!--link Developer to RunSpecific--><path d="M101.3496,156.0856 C137.5864,155.6676 188.2876,154.3806 232.65,150.7 C248.8294,149.3575 266.5685,147.1091 281.9289,144.9118 " fill="none" id="Developer-RunSpecific" style="stroke: #A80036; stroke-width: 0.55;"/><!--link Developer to RunHistorical--><path d="M95.1291,133.2975 C102.5948,129.4486 110.3339,125.5782 117.7,122.1 C129.8396,116.3679 143.704,110.511 154.7739,105.9949 " fill="none" id="Developer-RunHistorical" style="stroke: #A80036; stroke-width: 0.55;"/><!--link Developer to DetermineLastCompleted--><path d="M101.3491,161.3629 C144.6979,165.9724 208.5452,172.7616 256.3765,177.848 " fill="none" id="Developer-DetermineLastCompleted" style="stroke: #A80036; stroke-width: 0.55;"/><!--
@startuml
scale 0.55
left to right direction

:Smart Contract Developer: as :Developer:

rectangle Querying << external >> {
  (Query for a given contract) as (QueryContract)
}

rectangle Interacting << external >> {
  (Call read-only method) as (Call)
}

rectangle Linking << external >> {
  (Link contract to library) as (LinkContract)
}

rectangle Deployment << external >> {
  (Deploy instance of a contract) as (DeployInstance)
}

rectangle Migrations {
  (Run all migrations) as (RunMigrations)
  (Run specific migration) as (RunSpecific)
  (Run as historical) as (RunHistorical)
  (Determine last completed migration) as (DetermineLastCompleted)


  RunHistorical ..|> RunMigrations

  RunMigrations -right-> RunSpecific
  RunMigrations -left-> DetermineLastCompleted

  DetermineLastCompleted -down-> QueryContract : find deployed Migrations
  DetermineLastCompleted -down-> Call : read instance state
  RunSpecific -down-> DeployInstance
  RunSpecific -down-> LinkContract


}

Developer - - RunMigrations
Developer - - RunSpecific
Developer - - RunHistorical
Developer - - DetermineLastCompleted

@enduml

PlantUML version 1.2018.14(Fri Dec 21 16:33:16 UTC 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.2+9
Operating System: Linux
OS Version: 4.15.0-1028-gcp
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>